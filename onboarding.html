<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙˆØ± Ù…Ø¹Ø±ÙÛŒ Ø³Ø§Ø¹Øª ØºØ±ÙˆØ¨â€ŒÚ©ÙˆÚ©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: system-ui, -apple-system, 'Segoe UI', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 100%);
            color: #f8fafc;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        #onboardingContainer {
            width: 100%;
            max-width: 500px;
            background: rgba(30, 41, 59, 0.85);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .onboarding-step {
            display: none;
            padding: 40px 30px;
            text-align: center;
            animation: fadeIn 0.5s ease;
            height: 100%; /* ØªØºÛŒÛŒØ± Ø§ØµÙ„ÛŒ: Ù¾Ø± Ú©Ø±Ø¯Ù† Ø§Ø±ØªÙØ§Ø¹ */
            overflow-y: auto; /* ØªØºÛŒÛŒØ± Ø§ØµÙ„ÛŒ: Ø§Ø³Ú©Ø±ÙˆÙ„ Ø§Ú¯Ø± Ù†ÛŒØ§Ø² Ø¨ÙˆØ¯ */
        }
        .onboarding-step.active { 
            display: block; 
        }

        @keyframes fadeIn { 
            from { opacity: 0; } 
            to { opacity: 1; } 
        }

        .progress-container {
            display: flex;
            justify-content: center;
            gap: 8px;
            padding: 20px 0 0;
        }
        .progress-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transition: background 0.3s;
        }
        .progress-dot.active { background: #3b82f6; }

        h2 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #e2e8f0;
            line-height: 1.4;
        }
        p {
            font-size: 1.1rem;
            color: #cbd5e1;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        /* Interactive Slider */
        .slider-container {
            position: relative;
            background: rgba(15, 23, 42, 0.7);
            padding: 30px;
            border-radius: 16px;
            margin: 30px 0;
            border: 1px solid rgba(59, 130, 246, 0.3);
            overflow: hidden;
        }

        /* Color overlay that will animate */
        .slider-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                rgba(239, 68, 68, 0.1) 0%,
                rgba(245, 158, 11, 0.1) 25%,
                rgba(59, 130, 246, 0.1) 50%,
                rgba(30, 64, 175, 0.1) 75%
            );
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 1;
        }

        /* Color states with different overlay positions */
        .slider-container.sunset::before {
            background: linear-gradient(90deg, 
                rgba(239, 68, 68, 0.2) 0%,
                rgba(245, 158, 11, 0.1) 50%,
                transparent 100%
            );
            opacity: 1;
        }

        .slider-container.sunrise::before {
            background: linear-gradient(90deg, 
                transparent 0%,
                rgba(245, 158, 11, 0.1) 50%,
                rgba(59, 130, 246, 0.1) 100%
            );
            opacity: 1;
        }

        .slider-container.day::before {
            background: linear-gradient(90deg, 
                transparent 0%,
                rgba(59, 130, 246, 0.2) 50%,
                rgba(30, 64, 175, 0.1) 100%
            );
            opacity: 1;
        }

        .slider-container.night::before {
            background: linear-gradient(90deg, 
                transparent 0%,
                rgba(30, 64, 175, 0.2) 50%,
                rgba(15, 23, 42, 0.3) 100%
            );
            opacity: 1;
        }

        /* Ensure content stays above the overlay */
        .slider-container > * {
            position: relative;
            z-index: 2;
        }
        #sunSlider {
            width: 100%;
            height: 60px;
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
            cursor: pointer;
        }
        #sunSlider::-webkit-slider-runnable-track {
            height: 8px;
            background: linear-gradient(to right, #ef4444, #f59e0b, #3b82f6, #1e40af);
            border-radius: 10px;
        }
        #sunSlider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #fbbf24;
            border: 3px solid #ffffff;
            box-shadow: 0 0 15px #fbbf24;
            margin-top: -14px;
            cursor: grab;
        }

        .time-display {
            font-size: 3.5rem;
            font-weight: bold;
            margin: 20px 0;
            color: #fbbf24;
            text-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
        }

        .phase-text {
            font-size: 1.2rem;
            color: #94a3b8;
            min-height: 1.8em;
        }

        /* Cards */
        .cards-container {
            display: flex;
            gap: 15px;
            margin: 25px 0;
            flex-wrap: wrap;
            justify-content: center;
        }
        .card {
            flex: 1;
            min-width: 140px;
            background: rgba(30, 41, 59, 0.9);
            padding: 20px 15px;
            border-radius: 12px;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        .card h3 { font-size: 2.5rem; color: #60a5fa; margin-bottom: 5px; }
        .card p { font-size: 0.95rem; margin-bottom: 0; color: #cbd5e1; }

        /* Location Selector */
        #locationSelectContainer {
            margin: 25px 0;
        }
        select {
            width: 100%;
            padding: 15px;
            font-size: 1rem;
            border-radius: 10px;
            border: 1px solid #475569;
            background: rgba(15, 23, 42, 0.8);
            color: white;
            margin-bottom: 10px;
            cursor: pointer;
        }
        select:focus { outline: none; border-color: #3b82f6; }

        /* Buttons */
        .buttons-container {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
        }
        .btn {
            flex: 1;
            padding: 16px 24px;
            border: none;
            border-radius: 12px;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }
        .btn-primary {
            background: linear-gradient(90deg, #3b82f6, #1d4ed8);
            color: white;
        }
        .btn-primary:hover {
            background: linear-gradient(90deg, #1d4ed8, #1e40af);
            transform: translateY(-2px);
        }
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #cbd5e1;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        .btn-skip {
            background: transparent;
            color: #94a3b8;
            border: 1px dashed #64748b;
        }

        /* Hide Class */
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <div id="onboardingContainer">
        <!-- Progress Dots -->
        <div class="progress-container">
            <div class="progress-dot active" data-step="1"></div>
            <div class="progress-dot" data-step="2"></div>
            <div class="progress-dot" data-step="3"></div>
            <div class="progress-dot" data-step="4"></div>
            <div class="progress-dot" data-step="5"></div>
        </div>

        <!-- Step 1: Hook -->
        <div class="onboarding-step active" data-step="1">
            <h2>ğŸŒ… Ø§Ú¯Ø± Ø±ÙˆØ² Ø¬Ø¯ÛŒØ¯ØŒ Ù†Ù‡ Ø§Ø² Ù†ÛŒÙ…Ù‡â€ŒØ´Ø¨ØŒ Ú©Ù‡ Ø§Ø² ØºØ±ÙˆØ¨ Ø¢ØºØ§Ø² Ø´ÙˆØ¯ Ú†Ù‡ØŸ</h2>
            <p>ÛŒÚ© Ø±ÙˆØ´ Ù†ÙˆØ¢ÙˆØ±Ø§Ù†Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ø¨Ø§ Ø±ÛŒØªÙ… Ø·Ø¨ÛŒØ¹ÛŒ Ø¨Ø¯Ù† Ùˆ Ø·Ø¨ÛŒØ¹Øª</p>
            <div class="buttons-container">
                <button class="btn btn-skip" onclick="finishOnboarding()">Ø±Ø¯ Ú©Ø±Ø¯Ù†</button>
                <button class="btn btn-primary" onclick="nextStep()">Ú©Ø´Ù Ø§ÛŒÙ† Ø§ÛŒØ¯Ù‡</button>
            </div>
        </div>

        <!-- Step 2: Problem -->
        <div class="onboarding-step" data-step="2">
            <h2>â° Ù…Ø´Ú©Ù„ Ø³Ø§Ø¹Øª ÙØ¹Ù„ÛŒ</h2>
            <p>Ø¯Ø± Ø³ÛŒØ³ØªÙ… Ù†ÛŒÙ…Ù‡â€ŒØ´Ø¨â€ŒÙ…Ø­ÙˆØ±ØŒ "Ø³Ø§Ø¹Øª Û² Ø¨Ø§Ù…Ø¯Ø§Ø¯" Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù‡Ù… Ø§Ø¨ØªØ¯Ø§ÛŒ Ø±ÙˆØ² Ø¨Ø§Ø´Ø¯ Ùˆ Ù‡Ù… Ø§Ù†ØªÙ‡Ø§ÛŒ Ø´Ø¨. Ø§ÛŒÙ† Ø¨Ø§Ø¹Ø« Ø³Ø±Ø¯Ø±Ú¯Ù…ÛŒ Ø¯Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ø®ÙˆØ§Ø¨ Ùˆ Ú©Ø§Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
            <div class="cards-container">
                <div class="card">
                    <h3>2:00</h3>
                    <p>Ø§ÛŒÙ† Ø²Ù…Ø§Ù† Ø®ÙˆØ§Ø¨ Ø§Ø³Øª ÛŒØ§ Ø¨ÛŒØ¯Ø§Ø±ÛŒØŸ</p>
                </div>
            </div>
            <div class="buttons-container">
                <button class="btn btn-secondary" onclick="prevStep()">Ù‚Ø¨Ù„ÛŒ</button>
                <button class="btn btn-primary" onclick="nextStep()">Ø­Ù„ Ú†ÛŒØ³ØªØŸ</button>
            </div>
        </div>

        <!-- Step 3: Interactive Solution -->
        <div class="onboarding-step" data-step="3">
            <h2>âœ¨ Ø±Ø§Ù‡â€ŒØ­Ù„: ØºØ±ÙˆØ¨â€ŒÚ©ÙˆÚ©</h2>
            <p>Ø®ÙˆØ±Ø´ÛŒØ¯ Ø±Ø§ Ø¨Ù‡ Ø³Ù…Øª ØºØ±ÙˆØ¨ Ø¨Ú©Ø´ÛŒØ¯. Ø¨Ø¨ÛŒÙ†ÛŒØ¯ Ú†Ú¯ÙˆÙ†Ù‡ Ø±ÙˆØ² Ø¬Ø¯ÛŒØ¯ Ø¢ØºØ§Ø² Ù…ÛŒâ€ŒØ´ÙˆØ¯!</p>
            
            <div class="slider-container">
                <div class="phase-text" id="phaseText">ØºØ±ÙˆØ¨ â†’ Ø¢ØºØ§Ø² Ø´Ø¨</div>
                <input type="range" id="sunSlider" min="0" max="100" value="0">
                <div class="time-display" id="timeDisplay">12:00</div>
                <div>Ø´Ø¨ = Ù‚Ù„Ù…Ø±Ùˆ Ø§Ø³ØªØ±Ø§Ø­Øª Ùˆ Ø¢Ø±Ø§Ù…Ø´</div>
            </div>

            <div class="buttons-container">
                <button class="btn btn-secondary" onclick="prevStep()">Ù‚Ø¨Ù„ÛŒ</button>
                <button class="btn btn-primary" onclick="nextStep()">Ø§Ø¯Ø§Ù…Ù‡</button>
            </div>
        </div>

        <!-- Step 4: Benefit -->
        <div class="onboarding-step" data-step="4">
            <h2>âœ… ÙØ§ÛŒØ¯Ù‡ Ø¹Ù…Ù„ÛŒ</h2>
            <p>Ø¨Ø§ Ø³Ø§Ø¹Øª ØºØ±ÙˆØ¨â€ŒÚ©ÙˆÚ©ØŒ Ø²Ù…Ø§Ù† Ú©Ø§Ù…Ù„Ø§Ù‹ Ø´ÙØ§Ù Ù…ÛŒâ€ŒØ´ÙˆØ¯:</p>
            
            <div class="cards-container">
                <div class="card">
                    <h3>3:00</h3>
                    <p>Ø´Ø¨<br>ÛŒØ¹Ù†ÛŒ Û³ Ø³Ø§Ø¹Øª Ø§Ø² Ø´Ø¨ Ú¯Ø°Ø´ØªÙ‡<br>ÙØ±ØµØª Ø§Ø³ØªØ±Ø§Ø­Øª Ø¨Ø§Ù‚ÛŒ Ø§Ø³Øª</p>
                </div>
                <div class="card">
                    <h3>9:00</h3>
                    <p>Ø±ÙˆØ²<br>ÛŒØ¹Ù†ÛŒ Û³ Ø³Ø§Ø¹Øª ØªØ§ ØºØ±ÙˆØ¨ Ø¨Ø§Ù‚ÛŒ Ø§Ø³Øª<br>Ø¨Ø±Ù†Ø§Ù…Ù‡ Ú©Ø§Ø±Øª Ø±Ø§ Ø§ÙˆÙ„ÙˆÛŒØªâ€ŒØ¨Ù†Ø¯ÛŒ Ú©Ù†!</p>
                </div>
            </div>

            <p style="font-size: 1rem; margin-top: 20px;">Ø§ÛŒÙ† Ø³ÛŒØ³ØªÙ… Ø¨Ù‡ ØªÙ†Ø¸ÛŒÙ… Ø®ÙˆØ§Ø¨ Ùˆ Ø§ÙØ²Ø§ÛŒØ´ Ø¨Ù‡Ø±Ù‡â€ŒÙˆØ±ÛŒ Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
            
            <div class="buttons-container">
                <button class="btn btn-secondary" onclick="prevStep()">Ù‚Ø¨Ù„ÛŒ</button>
                <button class="btn btn-primary" onclick="nextStep()">Ø´Ø±ÙˆØ¹ ØªØ¬Ø±Ø¨Ù‡</button>
            </div>
        </div>

        <!-- Step 5: Call to Action -->
        <div class="onboarding-step" data-step="5">
            <h2>ğŸš€ Ø³Ø§Ø¹Øª Ø´Ø®ØµÛŒ Ø´Ù…Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª!</h2>
            <p>Ù…ÙˆÙ‚Ø¹ÛŒØª Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ ØªØ§ Ø³Ø§Ø¹Øª Ø¨Ø± Ø§Ø³Ø§Ø³ ØºØ±ÙˆØ¨ Ø¯Ù‚ÛŒÙ‚ Ø´Ù‡Ø±ØªØ§Ù† ØªÙ†Ø¸ÛŒÙ… Ø´ÙˆØ¯.</p>
            
            <div id="locationSelectContainer">
                <select id="countrySelect">
                    <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø´ÙˆØ±...</option>
                    <option value="IR">Ø§ÛŒØ±Ø§Ù†</option>
                    <option value="US">Ø§ÛŒØ§Ù„Ø§Øª Ù…ØªØ­Ø¯Ù‡</option>
                    <option value="DE">Ø¢Ù„Ù…Ø§Ù†</option>
                    <!-- Ø³Ø§ÛŒØ± Ú©Ø´ÙˆØ±Ù‡Ø§ -->
                </select>
                <select id="citySelect" disabled>
                    <option value="">Ø§Ø¨ØªØ¯Ø§ Ú©Ø´ÙˆØ± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                </select>
            </div>

            <p style="font-size: 0.95rem; color: #94a3b8;">Ù¾Ø³ Ø§Ø² Ø´Ø±ÙˆØ¹ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§ÛŒÙ† Ø±Ø§Ù‡Ù†Ù…Ø§ Ø±Ø§ Ø§Ø² Ù…Ù†Ùˆ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ø¨ÛŒÙ†ÛŒØ¯.</p>
            
            <div class="buttons-container">
                <button class="btn btn-secondary" onclick="prevStep()">Ù‚Ø¨Ù„ÛŒ</button>
                <button class="btn btn-primary" onclick="startSunClock()">Ø´Ø±ÙˆØ¹ Ø³Ø§Ø¹Øª ØºØ±ÙˆØ¨â€ŒÚ©ÙˆÚ©</button>
            </div>
        </div>
    </div>

    <script>
        // State Management
        let currentStep = 1;
        const totalSteps = 5;
    
        // Step Navigation
        function updateProgressDots() {
            console.log('Updating dots for step:', currentStep); // Debug
            document.querySelectorAll('.progress-dot').forEach((dot, index) => {
                if (index + 1 <= currentStep) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
    
        function showStep(step) {
            console.log('Showing step:', step); // Debug
            // Hide all steps
            document.querySelectorAll('.onboarding-step').forEach(el => {
                el.classList.remove('active');
                el.style.display = 'none';
            });
            
            // Show current step
            const stepEl = document.querySelector(`.onboarding-step[data-step="${step}"]`);
            if (stepEl) {
                stepEl.classList.add('active');
                stepEl.style.display = 'block';
            }
            
            currentStep = step;
            updateProgressDots();
            
            // Debug: Log what we found
            console.log('Step element found:', stepEl);
            console.log('Step content:', stepEl ? stepEl.innerHTML : 'NOT FOUND');
        }
    
        function nextStep() {
            console.log('Next clicked, current:', currentStep); // Debug
            if (currentStep < totalSteps) {
                showStep(currentStep + 1);
            }
        }
    
        function prevStep() {
            console.log('Prev clicked, current:', currentStep);
            if (currentStep > 1) {
                showStep(currentStep - 1);
            }
        }
    
        // Interactive Slider - FIXED EVENT LISTENER
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing...');
            
            const sunSlider = document.getElementById('sunSlider');
            const timeDisplay = document.getElementById('timeDisplay');
            const phaseText = document.getElementById('phaseText');
            
            if (sunSlider && timeDisplay && phaseText) {
                sunSlider.addEventListener('input', function() {
                    const value = parseInt(this.value);
                    const container = this.closest('.slider-container');
                    
                    // Remove all classes
                    container.classList.remove('sunset', 'sunrise', 'day', 'night');
                    
                    // Add class based on position with smooth transitions
                    if (value > 87.5) {
                        container.classList.add('sunset');     // Red dominant
                    } else if (value > 62.5) {
                        container.classList.add('sunrise');    // Orange transition
                    } else if (value > 37.5) {
                        container.classList.add('day');        // Blue dominant
                    } else {
                        container.classList.add('night');      // Deep blue
                    }
                    
                    // Optional: Dynamic border color
                    const borderColors = [
                        'rgba(30, 64, 175, 0.5)',   // Night
                        'rgba(59, 130, 246, 0.5)',  // Day
                        'rgba(245, 158, 11, 0.5)',  // Sunrise
                        'rgba(239, 68, 68, 0.5)'    // Sunset
                    ];
                    const borderIndex = Math.min(3, Math.floor(value / 25));
                    container.style.borderColor = borderColors[borderIndex];
                    
                    
                    // Update time
                    let hour = Math.floor((value / 100) * 24);
                    let minute = Math.floor((value % 25) * 2.4);
                    
                    // Format display
                    let displayHour = hour % 12 || 12;
                    timeDisplay.textContent = 
                        `${displayHour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
                    
                    // Update phase text
                    if (value < 20) phaseText.textContent = 'ØºØ±ÙˆØ¨ â†’ Ø¢ØºØ§Ø² Ø´Ø¨';
                    else if (value < 40) phaseText.textContent = 'Ù†ÛŒÙ…Ù‡â€ŒØ´Ø¨ â†’ Ø¹Ù…Ù‚ Ø´Ø¨';
                    else if (value < 60) phaseText.textContent = 'Ù¾ÛŒØ´ Ø§Ø² Ø·Ù„ÙˆØ¹';
                    else if (value < 80) phaseText.textContent = 'Ø·Ù„ÙˆØ¹ â†’ Ø¢ØºØ§Ø² Ø±ÙˆØ²';
                    else phaseText.textContent = 'Ù…ÛŒØ§Ù†Ù‡ Ø±ÙˆØ² â†’ ÙØ¹Ø§Ù„ÛŒØª';
                });
            } else {
                console.log('Slider elements not found yet');
            }
    
            // City Data
            const cityData = {
                IR: ['ØªÙ‡Ø±Ø§Ù†', 'Ù…Ø´Ù‡Ø¯', 'Ø§ØµÙÙ‡Ø§Ù†', 'Ø´ÛŒØ±Ø§Ø²'],
                US: ['Ù†ÛŒÙˆÛŒÙˆØ±Ú©', 'Ù„Ø³â€ŒØ¢Ù†Ø¬Ù„Ø³', 'Ø´ÛŒÚ©Ø§Ú¯Ùˆ'],
                DE: ['Ø¨Ø±Ù„ÛŒÙ†', 'Ù…ÙˆÙ†ÛŒØ®', 'Ù‡Ø§Ù…Ø¨ÙˆØ±Ú¯']
            };
    
            // Location Selectors
            const countrySelect = document.getElementById('countrySelect');
            const citySelect = document.getElementById('citySelect');
    
            if (countrySelect && citySelect) {
                countrySelect.addEventListener('change', function() {
                    const country = this.value;
                    citySelect.innerHTML = '<option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù‡Ø±...</option>';
                    citySelect.disabled = !country;
                    
                    if (country && cityData[country]) {
                        cityData[country].forEach(city => {
                            const option = document.createElement('option');
                            option.value = city;
                            option.textContent = city;
                            citySelect.appendChild(option);
                        });
                    }
                });
            }
    
            // Initialize first step
            showStep(1);
            console.log('Initialization complete');
        });
    
        // Finish Onboarding
        function finishOnboarding() {
            localStorage.setItem('sunclock_onboarding_seen', 'true');
            alert('Ø±Ø§Ù‡Ù†Ù…Ø§ Ø¨Ø³ØªÙ‡ Ø´Ø¯. ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø³Ø§Ø¹Øª Ø±Ø§ Ø®ÙˆØ§Ù‡ÛŒØ¯ Ø¯ÛŒØ¯.');
            document.getElementById('onboardingContainer').style.display = 'none';
        }
    
        function startSunClock() {
            const countrySelect = document.getElementById('countrySelect');
            const citySelect = document.getElementById('citySelect');
            
            if (!countrySelect || !citySelect) {
                alert('Ø¹Ù†Ø§ØµØ± Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù‡Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯Ù†Ø¯.');
                return;
            }
            
            const country = countrySelect.value;
            const city = citySelect.value;
            
            if (!country || !city) {
                alert('Ù„Ø·ÙØ§Ù‹ Ú©Ø´ÙˆØ± Ùˆ Ø´Ù‡Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.');
                return;
            }
            
            localStorage.setItem('sunclock_onboarding_seen', 'true');
            localStorage.setItem('sunclock_location', JSON.stringify({ country, city }));
            
            alert(`Ø³Ø§Ø¹Øª ØºØ±ÙˆØ¨â€ŒÚ©ÙˆÚ© Ø¨Ø±Ø§ÛŒ ${city} ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯! Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†ØªÙ‚Ø§Ù„...`);
            // For testing, just reload
            window.location.href = 'index.html?city=' + encodeURIComponent(city);
        }
    
        // Make functions globally available
        window.nextStep = nextStep;
        window.prevStep = prevStep;
        window.finishOnboarding = finishOnboarding;
        window.startSunClock = startSunClock;
        window.showStep = showStep;
    
        console.log('Script loaded, functions available:', {
            nextStep: typeof nextStep,
            prevStep: typeof prevStep,
            showStep: typeof showStep
        });
    </script>
</body>
</html>